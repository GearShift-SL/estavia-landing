---
// Features.astro

import feature1Video from '@/assets/videos/feature-1.mp4';
import feature2Video from '@/assets/videos/feature-2.mp4';
import feature3Video from '@/assets/videos/feature-3.mp4';
import feature4Video from '@/assets/videos/feature-4.mp4';
import feature5Video from '@/assets/videos/feature-5.mp4';

type Feature = {
  tag: string;
  title: string;
  description: string;
  video: string;
  ctaText: string;
  ctaLink: string;
  ctaNote?: string;
};

const features: Feature[] = [
  {
    tag: 'GESTION INTEGRAL',
    title: 'Atiende a tus clientes las 24h del día',
    description:
      'Estavia contacta con tus leads al momento de recibirlos y de forma automatizada. No te preocupes por perder oportunidades de negocio y adelántate a la competencia.',
    video: feature1Video,
    ctaText: 'Empieza a ganar más clientes',
    ctaLink: '/reservar-demostracion/',
  },
  {
    tag: 'ANÁLISIS FINANCIERO',
    title: 'Filtra tus clientes en función de su potencial financiero',
    description:
      'Estavia habla con tus clientes, como si de un agente se tratase, para obtener información financiera y calificarlos en función de su potencial real de compra con respecto al inmueble en el que está interesado.',
    video: feature2Video,
    ctaText: 'Empieza a analizar a tus clientes',
    ctaLink: '/reservar-demostracion/',
  },
  {
    tag: 'CONFIGURACIÓN "CERO"',
    title: 'Sin necesidad de configuración',
    description:
      'Estavia capta toda la información de tus clientes e inmuebles automáticamente, sin necesidad de configuración. Mantén un registro completo de cada cliente, sus preferencias e historial de interacciones. Accede al instante a toda esta información desde cualquier dispositivo.',
    video: feature4Video,
    ctaText: 'Solicita una prueba hoy',
    ctaLink: '/reservar-demostracion/',
  },
  {
    tag: 'CROSS-SELLING',
    title: 'Aprovecha las oportunidades de negocio automáticamente',
    description:
      'Estavia puede ofrecer productos alternativos a los interesados en caso de que no estén interesados o no cumplan con los requisitos del inmueble por el que han contactado.',
    video: feature5Video,
    ctaText: 'Empieza a cerrar más operaciones',
    ctaLink: '/reservar-demostracion/',
    ctaNote: 'Próximamente',
  },
];
---

<section class="max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8">
  <!-- Main section title -->
  <div class="text-center mb-16">
    <h2 class="text-5xl font-semibold text-gray-900">
      Funcionalidades que <br /><span class="text-primary font-medium">aceleran tu agencia</span>
    </h2>
  </div>

  <!-- Features -->
  <div class="space-y-24">
    {
      features.map((feature, index) => (
        <div class={`flex flex-col ${index % 2 === 1 ? 'lg:flex-row-reverse' : 'lg:flex-row'} gap-8 items-center`}>
          <div class="lg:w-1/2 space-y-4">
            <p class="text-sm font-semibold text-gray-500 tracking-wider uppercase">{feature.tag}</p>
            <h3 class="text-4xl text-gray-900">{feature.title}</h3>
            <p class="text-lg text-gray-600">{feature.description}</p>

            <div class="pt-4">
              <a href={feature.ctaLink} class="cta-secondary font-semibold" data-umami-event="features-cta-button">
                {feature.ctaText}
              </a>
              {feature.ctaNote && <p class="text-sm text-gray-500 mt-4 ml-4">{feature.ctaNote}</p>}
            </div>
          </div>

          <div class="lg:w-1/2 rounded-lg overflow-hidden shadow-lg">
            <video autoplay loop muted playsinline class="w-full">
              <source src={feature.video} type="video/mp4" />
              Your browser does not support the video tag.
            </video>
          </div>
        </div>
      ))
    }
  </div>

  <!-- Additional CTA -->
  <div class="text-center mt-24 pt-16 border-t border-gray-200">
    <h3 class="text-3xl font-semibold text-gray-900 mb-6">¿Quieres que automaticemos algo más?</h3>
    <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">
      Nuestro equipo puede personalizar la automatización según las necesidades específicas de tu agencia.
    </p>
    <a
      href="/consultoria/"
      class="cta-secondary font-semibold text-lg px-8 py-4"
      data-umami-event="consulting-cta-button"
    >
      Solicita una consulta personalizada
    </a>
  </div>
</section>
